<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="assets/icons/logo.svg" sizes="any" type="image/svg+xml">
    <title>QuickGigs</title>
    <link rel="stylesheet" href="css/bsModed.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

</head>
<body onload="myFunction()" style="margin:0; padding: 0;">
  

  <!--SNACKBAR DIV-->
  <div id="snackbar"></div>  

  <!--LOADER CONTAINER-->
  <div id="loader"></div>

  <!--GO TO TOP BUTTON-->
  <button
  type="button"
  class="btn btn-floating btn-lg"
  id="btn-back-to-top">
  <img src="./assets/icons/up-arrow-svgrepo-com.svg" style="width: 40px; height: 40px; margin: 0%;"/>
  </button>  
  

  <div style="display:none; margin: 0%;" id="myDiv" class="fade-in">
    
    <!-- BRAND, LOGO AND DYNAMIC MENU -->
    <div style="height: fit-content;   margin: 0;">
      <nav class="navbar navbar-expand-lg navbar-light bg-light" style=" padding: 15px; margin: 0%; box-shadow: 2px 2px 25px grey;">
          <a class="col col-lg-2 navbar-brand" href="#"
          data-aos="fade-right"
          data-aos-duration="700"
          data-aos-easing="ease-in-sine"
          style="width: 9.499999995%">
            <img src="assets/icons/logo.svg" width="30" height="30" class="d-inline-block align-top" alt="" 
            style="float: left;">
            <div style="float: left;">QuickGigs</div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" 
              style="
              border-style: none; 
              float: right;
              margin-left: auto;">
            <span class="navbar-toggler-icon" ></span>
          </button>

          </a>
        
          <!--LARGE SCREEN USER BUTTON-->
          <div id="user" class="zoom d-lg-none dg-xl-none" style="float:pull-right; margin: 0%; ">
            <a href="https://www.youtube.com/">
              <img src="assets/icons/user-circle.svg" width="30" height="30" class="d-inline-block align-top" alt="" 
              style="float: left;">
            </a>
          </div>

          <!--NAVBAR ITEMS-->
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item  active" id="homeli">
                <a class="nav-link" href="#home"
                  data-aos="fade-right"
                  data-aos-duration="1000"
                  data-aos-easing="ease-in-back">Home </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#jobs"
                  data-aos="fade-right"
                  data-aos-duration="1400"
                  data-aos-easing="ease-in-back">Find a Job</a>
              </li>
              <li class="nav-item">
                <a class="nav-link"
                  data-aos="fade-right"
                  id="btn_post_gig"
                  data-aos-duration="1950"
                  data-aos-easing="ease-in-back">Post a gig</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#faq"
                  data-aos="fade-right"
                  data-aos-duration="2500"
                  data-aos-easing="ease-in-back">F.A.Q.</a>
              </li>
            </ul>    
          </div>

            <!--SMALL SCREEN USER BUTTON-->
          <div id="user" class="zoom d-none d-lg-block d-xl-block" style="float:pull-right; margin: 0%; ">
            <a href="https://www.youtube.com/">
              <img src="assets/icons/user-circle.svg" width="30" height="30" class="d-inline-block align-top" alt="" 
              style="float: left;">
            </a>
          </div>

      </nav>
    </div>

    

    <!----------WEBPAGE CONTENT--------->
    <div class="container-fluid" style="height: 100vh; width: 100%;  margin: 0; padding: 0; ">
      <a href="#" class="roundedButton button" style="width:40vh;" href="#jobs" onclick="getUserLocation()">
        PRUEBA
    </a>
    <br>
      
      <!--HOME SECTION-->
      <div class="row">
        <a id="home"></a>
        <div class="container-fluid" style="height: fit-content; ">
          <div class="row">
          
          <div class="col-12 col-lg-6 area"  style="margin: 0%; padding: 0px;">
            <div class="context" >
              <h1 style="margin-left: 7vh; margin-top: 5vh;"><p class="now">NOW</p> is the time to THRIVE</h1>
              
          </div>
            <ul class="col col-lg-6 circles" style=" margin: 0%; width: 100%; height: 100%;">
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
            </ul>
          </div >

          <div class="col-12 col-lg-6 justify-content-center " style="align-self: center;" data-aos="fade-right">
            <a id="login"></a>
            <diV id="accountForm" style="height: 100vh; justify-content: center;padding-top: 20vh;">
            <div class="row justify-content-center" >
              <div class="col-11 col-lg-5 align-items-center">
              <h3>Back for more?</h3>
            </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-11 col-lg-5 align-items-center">
                <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="mail">
              </div>
            </div>
            <br>
            <div class="row justify-content-center">
              <div class="col-11 col-lg-5 align-items-center">
                <input type="password" class="form-control" id="exampleFormControlInput1" placeholder="password">
              </div>
            </div>

           
            <div class="row justify-content-center" style="height: 20vh;  margin-top: 8vh;">
              <div class="col-12">
                <a href="#jobs" class="roundedButton button" style="width:40vh;" href="#jobs">
                  LOG IN
              </a>
              <br><br>
              <a id="forgotPassword" href="">I forgot my password :(</a>

              </div>
            </div>
            <div class="row justify-content-center">
              <div class="col-11 col-lg-5 align-items-center">
                <b><p>New to QuickGigs?</p></b>
                <a id="newAccount" href="#" onclick="newAccountForm()">Create a new account</a>
              </div>
            </div>
            </diV>
          </div>
        </div>
        
        </div>
      </div>

     
      <!--CAROUSEL-->
      <div class="row" style="height: fit-content; width: 100%; background-color: blue; margin: 0; padding: 0;">
        <!--CARRUSEL-->
       <div id="myCarousel" class="carousel slide" data-ride="carousel" style="height: 50vh; margin: 0; padding: 0;
       ">
         <!-- Indicators -->
         <ol class="carousel-indicators">
           <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
           <li data-target="#myCarousel" data-slide-to="1"></li>
           <li data-target="#myCarousel" data-slide-to="2"></li>
         </ol>
     
         <!-- Wrapper for slides -->
         <div class="carousel-inner" style="margin: 0; padding: 0;">
           <div class="item active">
             <img src="assets/imgs/carousel1.jpg" alt="Freelancer" style="width:100%; height: 50vh; object-fit: cover;">
             <div class="carousel-caption">
               <h3 style="font-size: 10vh;">Find the best deal <br><i>QUICK</i></h3>
               <p style="font-size: 3vh; text-align: left;">QuickGigs helps you connect with freelancers near you.</p>
             </div>
           </div>
     
           <div class="item">
             <img src="assets/imgs/carousel2.jpg" alt="Man painting wall" style="width:100%; height: 50vh;   object-fit: cover;">
             <div class="carousel-caption">
               <h3 style="font-size: 10vh; text-align: left;"> Build your career <br>start today</h3>
               <p style="font-size: 3vh; text-align: left;">Looking for extra income? Get a gig, quick.</p>
 
             </div>
           </div>
         
           <div class="item">
             <img src="assets/imgs/carousel3.jpg" alt="Handshake" style="width:100%; height: 50vh;   object-fit: cover;">
             <div class="carousel-caption">
               <h3 style="font-size: 10vh; text-align: center"> Plan it from <i>home</i></h3>
               <p style="font-size: 3vh; text-align: center;">Stay home, you are only one click away from a quick gig.</p>
 
 
             </div>
           </div>
         </div>
     
         <!-- Left and right controls -->
         <a class="left carousel-control" href="#myCarousel" data-slide="prev">
           <span class="glyphicon glyphicon-chevron-left"></span>
           <span class="sr-only">Previous</span>
         </a>
         
         <a class="right carousel-control" href="#myCarousel" data-slide="next">
           <span class="glyphicon glyphicon-chevron-right"></span>
           <span class="sr-only">Next</span>
         </a>
       </div>
      </div>
      <br>


      <!--SEARCH BAR-->
      <div class="row justify-content-center" style=" padding-left: 5vw; padding-right: 5vw;">
        <h3 style="float: left; text-align: left; ">Find gigs using <b>keywords</b></h3>
        <div class="input-group" style="justify-content: center; display: flex;">
          <input type="search" class="form-control rounded" style="padding: 2vh; font-size: small; height: auto; width: 50px;" placeholder='Try typing "Paint job" ' aria-label="Search" aria-describedby="search-addon" />
          <button type="button" class="darkOutlineButton" style=" width: 10vw;">
            <i class="fa fa-search" aria-hidden="true"></i>
          </button>
        </div>
    </div>
    <h3 style="text-align: center; float: center;">or</h3>
    

    <a id="jobs"></a>
      <!--SHOWCASE-->
      <h3 style="font-size: 5vh; text-align: center; margin-top: 6vh;">Browse quick gigs by <b>category</b></h3>
      <p style="margin-left: 3vh;">You are only one click away</p>
      <div class="row justify-content-center" style="margin-top: 5vh;">

        <div id="container" style="justify-content: center;">
          <div id="parent" style="margin-left: 5vh;">
              <div class="contentBlock zoom" style="background-image: url('assets/imgs/categories/labor.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Labor</p>
              </div>
              <div class="contentBlock zoom" style="background-image: url('assets/imgs/categories/administration.jpg'); background-size: cover;
              ">
                
                <p class="contentBlockTitle" >Administration</p>

              </div>
              <div class="contentBlock zoom" style="background-image: url('assets/imgs/categories/education.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Education</p>
              </div>
              <div class="contentBlock zoom" style="background-image: url('assets/imgs/categories/architecture.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Architecture</p>
              </div>
              <div class="contentBlock" style="background-image: url('assets/imgs/categories/finances.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Finances</p>
              </div>
              <div class="contentBlock" style="background-image: url('assets/imgs/categories/writing.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Writing</p>
              </div>
              <div class="contentBlock" style="background-image: url('assets/imgs/categories/security.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Security</p>
              </div>
              <div class="contentBlock" style="margin-right: 9vh; background-image: url('assets/imgs/categories/transportation.jpg'); background-size: cover;
              ">
                <p class="contentBlockTitle">Transportation</p>
              </div>

          </div>
       
      </div>
      <div id="panLeft" class="zoom panner" data-scroll-modifier='-1' style="padding: 3vh">
        <img src="assets/icons/left_arrow.svg"/>
      </div>
      <div id="panRight" class="zoom panner" data-scroll-modifier='1' style="padding: 3vh">
        <img src="assets/icons/right_arrow.svg" style="margin: auto;"/>
      </div>

      </div>

      
      <h2 class="customTitle" style="width: 100vw; margin: 0; text-align: center;">X gigs near you</h2>

      <!--MAP-->
      <div class="col-12 col-lg-5" style="margin: 0; padding:0;">
        <div class="map" id="gigMapContainer" style="width: 100%; height: 80vh; float: center; margin: 0px; padding: 0%;"></div>
      </div>

      <!--JOB CARDS-->
      <div class="col-12 col-lg-7" style="height: 80vh;padding: 0% ; ">
        <div class="overflow-auto containerOf" style="height: 80vh; margin: 0%;
        ">
        <div class="row-12 row-lg-3" style="text-align: left; margin-bottom: 2vh;
        height: fit-content; margin: 2vh; padding: 2vh;">
          <b class="gigTitle">Gig Title</b>
          <br>
          <p>Gig description, lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum</p>
          <p><i class="fa fa-user " aria-hidden="true"></i> Posted by User</p>
          <p><i class="fa fa-envelope" aria-hidden="true"></i> mail@example.com</p>
          <p><i class="fa fa-map-marker" aria-hidden="true"></i> Address</p>
        </div>
      </div>
      
      </div>
    
      <br>

 

      <!------POST GIGS FORM SECTION----->
      <a id="postGigs"></a>
      <div class="row" style="text-align: center; justify-content: center; width: 100vw; height: 40vh; align-items: center;" >
        <div>
        <h3 style="text-align: center;">Login to start posting gigs!</h3>
        <br>
        <a class="roundedButton button" style="background-color: black; color: white; width: 40vh;" href="#login">Login</a>
      </div>

      </div>


      <div class="row container-fluid justify-content-center" style="width: 100%; margin: 0; padding: 0; height: fit-content; border: 2px; border-color: black; border-style: groove; border-spacing: 0; background-color: black;" >
        <div class="container-fluid col-12 col-lg-6" style="padding: 0; margin: 0;  background-color: white;">
                <form style="padding: 20px;">
                  <div class="row">
                    <h3 class="customTitle" style="width:max-content">Gig post</h3>
                  </div>
                  <div class="form-row">

                    <div class="form-group">
                      <div class="row">
                        <h4 class="formLabel">Contact info</h4>
                        <div class="col-12">
                          <input type="name" class="form-control" id="inputName" placeholder="Full Name" style="margin-bottom: 1vh;">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-6">
                          <input type="email" class="form-control" id="inputEmail" placeholder="Email">
                        </div>
                        <div class="col-6">
                          <input type="phone" class="form-control" id="inputPhone" placeholder="Phone Number">
                        </div>
                      </div>
                    </div>
                    <br>

                    <div class="form-group">
                      <div class="row">
                        <h4 class="formLabel">Gig info</h4>
                        <div class="col-md-12">
                          <label for="inputState" style="float: left; margin: 0;">Category</label>
                          <select id="inputState" class="form-control" style="margin-bottom: 1vh;" aria-placeholder="Gig category">
                            <option>...</option>
                          </select>
                        <div class="col-12">
                          <textarea class="form-control" placeholder="Gig Description"></textarea>
                        </div>
                      </div>
                    </div>
                    </div>
                    <br>
                      
                    <div class="form-group">
                        <div class="row">
                          <h4 class="formLabel">Gig Address</h4>
                        </div>
                        <div class="row">
                          <div class="col-12">
                            <input  type="text" class="form-control" id="inputAddress" placeholder="1234 Main St"  style="margin-bottom: 1vh;">
                          </div>
                          <div class="col-12">
                            <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
                          </div>
                        </div>
                    </div>
                  </div>
                </form>
        </div>
        <div class="container-fluid col-12 col-lg-6" style="color: white; background-color: black; padding: 5vh; margin: 0; height: 100%;">
                    
                    <div class="map" id="postMapContainer" style="width: 100%; height: 50vh;"></div>
                    <br>
                    <h4>Select your location</h4>
                    <button class="btn btn-primary" style="background-color: white; color: black; margin-top: 2vh;">Get current location</button>
                    <br>

        </div>
      </div>

      <div class="row justify-content-center">
        <a class="roundedButton button" style="background-color: black; color: white; width: 40vh; margin-top: 5vh; margin-bottom: 10vh;">Post Gig</a>
      </div>

     
        <!--FOOTER-->
      <div class="row">
        <a id="footer"></a>
        <div class="container-fluid" style="height: fit-content; background-color: black; color: white;">
          <div class="row">
            <div class="row justify-content-center" style="height: 10vh;  margin-top: 8vh;">
              <div class="col-12">
               AAAAAAAAAAAA
              </div>
            </div>

          </div>
        </div>
        
        </div>
      </div>
      
    </div>


  
  </div>
  
   <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!--script src="https://kit.fontawesome.com/725910d27b.js" crossorigin="anonymous"></script-->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMrQgga-C5zCuZLTVk2MPVzX7naqKZXZU&callback=initMaps" async defer></script>
    <script>   
  
      var coordenadas = {
            lat: 27.1751,
            lng: 78.0421
        };

        var myStyle = [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#212121"
      }
    ]
  },
  {
    "elementType": "labels.icon",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#212121"
      }
    ]
  },
  {
    "featureType": "administrative",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "administrative.country",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "featureType": "administrative.locality",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#bdbdbd"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#181818"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#1b1b1b"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry.fill",
    "stylers": [
      {
        "color": "#2c2c2c"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#8a8a8a"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#373737"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#3c3c3c"
      }
    ]
  },
  {
    "featureType": "road.highway.controlled_access",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#4e4e4e"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "transit",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#000000"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#3d3d3d"
      }
    ]
  }
];
            
    function myFunction() {
      myVar = setTimeout(showPage, 3000);
      setTimeout(() => { AOS.init();}, 3000);
    }    

    //Init html
    function showPage() {
      document.getElementById("loader").style.display = "none";
      document.getElementById("myDiv").style.display = "block";

    }
    
    $(".navbar li").on("click", function() {       
      $(".navbar li").removeClass("active");
      $(this).addClass("active");
    });

    
    let mybutton = document.getElementById("btn-back-to-top");
    let btnPostGig = document.getElementById("btn_post_gig");
    let btnNewAccount = document.getElementById("newAccount");

    btnPostGig.addEventListener("click", showPostGigForm )
    btnNewAccount.addEventListener("click",showNewAccountForm)

    function showPostGigForm(){
      if (sessionStatus) {
        scrollTo("postGigs");
      }else{
        scrollTo("login");
        showToast("Log in to post a gig!");
      }
    }

    function showNewAccountForm(){
      
      
    }

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function () {
  scrollFunction();
};

function scrollTo(hash) {
    location.hash = "#" + hash;
};

function showToast(message){
  var snackBar = document.getElementById('snackbar');
  snackBar.innerHTML = message;
  snackBar.className = "show";
  setTimeout(function(){ snackBar.className = snackBar.className.replace("show", ""); }, 3000);
}

function scrollFunction() {
  if (
    document.body.scrollTop > 20 ||
    document.documentElement.scrollTop > 20
  ) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
  $(".navbar li").removeClass("active");
  $(homeli).addClass("active");
  
}
// When the user clicks on the button, scroll to the top of the document
mybutton.addEventListener("click", backToTop);

function backToTop() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}

//----------------------------------PANNING------------------------------------------

(function () {

var scrollHandle = 0,
    scrollStep = 5,
    parent = $("#container");

//Start the scrolling process
$(".panner").on("mouseenter", function () {
    var data = $(this).data('scrollModifier'),
        direction = parseInt(data, 10);

    $(this).addClass('active');

    startScrolling(direction, scrollStep);
});

//Kill the scrolling
$(".panner").on("mouseleave", function () {
    stopScrolling();
    $(this).removeClass('active');
});

//Actual handling of the scrolling
function startScrolling(modifier, step) {
    if (scrollHandle === 0) {
        scrollHandle = setInterval(function () {
            var newOffset = parent.scrollLeft() + (scrollStep * modifier);

            parent.scrollLeft(newOffset);
        }, 10);
    }
}

function stopScrolling() {
    clearInterval(scrollHandle);
    scrollHandle = 0;
}

}());


var divAccountForm = document.getElementById("accountForm");
function newLoginForm(){
  
  divAccountForm.innerHTML = '<div class="row justify-content-center"><div class="col-11 col-lg-5 align-items-center"><h3>Back for more?</h3></div></div><div class="row justify-content-center"><div class="col-11 col-lg-5 align-items-center"><input type="email" class="form-control" id="exampleFormControlInput1" placeholder="mail"></div></div><br><div class="row justify-content-center"><div class="col-11 col-lg-5 align-items-center"><input type="password" class="form-control" id="exampleFormControlInput1" placeholder="password"></div></div><div class="row justify-content-center" style="height: 20vh;  margin-top: 8vh;"><div class="col-12"><a href="#jobs" class="roundedButton button" style="width:40vh;" href="#jobs">LOG IN</a><br><br><a id="forgotPassword" href="">I forgot my password :(</a></div></div><div class="row justify-content-center"><div class="col-11 col-lg-5 align-items-center"><b><p>New to QuickGigs?</p></b><a id="newAccount" href="#" onclick="newAccountForm()">Create a new account</a></div></div>';
  
}

function newAccountForm(){
      divAccountForm.innerHTML = ' <div class="row justify-content-center"><div class="col-11 col-lg-5" style="align-items: left; text-align: left;"><h3>Welcome to QuickGigs!</h3><p>Create a new account</p></div></div><div class="row justify-content-center" style="margin-bottom: 10px;"><div class="col-11 col-lg-5 align-items-center"><input type="name" class="form-control" id="exampleFormControlInput1" placeholder="Name"></div></div><div class="row justify-content-center"  style="margin-bottom: 10px;"><div class="col-11 col-lg-5 align-items-center"><input type="mail" class="form-control" id="exampleFormControlInput1" placeholder="Mail"></div></div><div class="row justify-content-center"  style="margin-bottom: 10px;"><div class="col-11 col-lg-5 align-items-center"><input type="password" class="form-control" id="exampleFormControlInput1" placeholder="Password"></div></div><div class="row justify-content-center"><div class="col-11 col-lg-5 align-items-center"><input type="password" class="form-control" id="exampleFormControlInput1" placeholder="Confirm password"></div></div><div class="row justify-content-center" style="height: 20vh;  margin-top: 8vh;"><div class="col-12"><a href="#jobs" class="roundedButton button" style="width:40vh;" href="#jobs">CREATE ACCOUNT</a><br><br>or<br><a id="existingAccount" href="#" onClick="newLoginForm()">Login with existing account</a></div></div>';
}



//==============MAP FUNCTIONS===================================================
var gigsMap;
var postsMap;
var sessionStatus=true; 
var postMarker = [];


//Initialize maps
function initMaps(){

  gigsMap = new google.maps.Map(document.getElementById("gigMapContainer"), {
        mapTypeControlOptions: {
        mapTypeIds: ['mystyle', google.maps.MapTypeId.ROADMAP, google.maps.MapTypeId.TERRAIN]
      },
        center: coordenadas,
        zoom: 3,
        mapTypeId: 'mystyle'
      });
  gigsMap.mapTypes.set('mystyle', new google.maps.StyledMapType(myStyle, { name: 'My Style' }));
  initMap(gigsMap);
  
  if(sessionStatus){
    
    postsMap =  new google.maps.Map(document.getElementById('postMapContainer'), {
        mapTypeControlOptions: {
          mapTypeIds: ['mystyle', google.maps.MapTypeId.ROADMAP, google.maps.MapTypeId.TERRAIN]
         },
        center: coordenadas,          
        zoom: 6,                
        mapTypeId: 'mystyle'
        });
    postsMap.mapTypes.set('mystyle', new google.maps.StyledMapType(myStyle, { name: 'My Style' }));
    postsMap.addListener('click', function(event){
      DeleteMarkers();
      console.log(event.latLng.lng());
      var marker = new google.maps.Marker({
                position: coordenadas,
                map: postsMap
            });
 
            getAddressByCoords(event.latLng.lat(), event.latLng.lng());
      marker =  new google.maps.Marker({position: event.latLng, map: postsMap});
      postMarker.push(marker);

      //setMarker(postGigsMarker,evento.latLng.lat(), evento.latlng.lng());
      

    });
    initMap(postsMap);
  }
}

function DeleteMarkers() {
        //Loop through all the markers and remove
        for (var i = 0; i < postMarker.length; i++) {
          postMarker[i].setMap(null);
        }
        postMarker = [];
    };

function initMap(map){
  if(navigator.geolocation){
    setInterval(function(){
      setUserLocation(map);
    },10000);
  }else{
    showToast("Your navigator does not support geolocation");
  }


}


//Get coords of user location
function setUserLocation(map){
  navigator.geolocation.getCurrentPosition( position => {
    var userPosition = {
      lat: position.coords.latitude,
      lng: position.coords.longitude
    };
    marker = new google.maps.Marker({position: userPosition, map: map});
    if(sessionStatus){
      getAddressByCoords(userPosition.lat,userPosition.lng);
      postMarker.push(marker);
    }
    map.panTo( new google.maps.LatLng( position.coords.latitude, position.coords.longitude ) );

  });
}

//Get address by coords
function getAddressByCoords(lat, lng) {
    var latlng = new google.maps.LatLng(lat, lng);
    // This is making the Geocode request
    var geocoder = new google.maps.Geocoder();
    geocoder.geocode({ 'latLng': latlng },  (results, status) =>{
        if (status !== google.maps.GeocoderStatus.OK) {
            alert(status);
        }
        // This is checking to see if the Geoeode Status is OK before proceeding
        if (status == google.maps.GeocoderStatus.OK) {
            console.log(results);
            var address = (results[0].formatted_address);
            var addressTextField = document.getElementById("inputAddress");
            if(addressTextField.value == ""){
              addressTextField.value = address;
            }
        }
    });
}
    </script>
     
</body>
</html>
